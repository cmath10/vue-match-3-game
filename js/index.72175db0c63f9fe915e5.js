(function(t){function e(e){for(var n,s,a=e[0],l=e[1],u=e[2],p=0,f=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={index:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-match-3-game/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"4a84":function(t,e,i){},"4eb7":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var n,r=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-column h-100"},[i("header",{staticClass:"bg-primary-dark"},[i("b-container",[i("h1",[t._v("Game")])])],1),i("main",{staticClass:"flex-grow-1"},[i("div",{staticClass:"py-3"},[i("b-container",{staticClass:"text-center"},[i("div",{staticClass:"d-inline-flex"},[i("div",{staticClass:"b-game-objective mr-4"},[t._l(t.objectivesComputed,(function(e,n){return i("div",{key:n,staticClass:"d-flex align-items-center p-3"},[i("b-game-tile",{attrs:{type:e.type,small:!0}}),t._v(" Ã— "+t._s(e.count)+" ")],1)})),i("div",[t._v(" Turns: "+t._s(t.turns)+" ")])],2),i("div",{staticClass:"b-game-ground"},[t._l(t.grid.getTileList(),(function(e,n){return t._l(e,(function(e,r){return i("div",{key:n+"-"+r+"-cell-"+e.type,staticClass:"b-game-ground__cell",class:{"b-game-ground__cell--selected":e.selected},on:{click:function(i){return t.onTileClick(e)}}},[i("transition",{attrs:{name:"t-game-fade"}},[i("b-game-tile",{directives:[{name:"show",rawName:"v-show",value:null!==e.type,expression:"tile.type !== null"}],key:n+"-"+r+"-tile-"+e.type,attrs:{type:e.type}})],1)],1)}))}))],2)])])],1)]),i("footer",{staticClass:"bg-primary-dark"},[i("b-container",{staticClass:"pt-4 pb-5"},[i("p",[t._v(" Code: "),i("a",{staticClass:"text-light",attrs:{href:"https://github.com/cmath10"}},[t._v(" https://github.com/cmath10 ")])]),i("p",[t._v(" Artwork: "),i("a",{staticClass:"text-light",attrs:{href:"https://www.artstation.com/jackhook"}},[t._v(" https://www.artstation.com/jackhook ")])])])],1)])},s=[],a=(i("c975"),i("e6cf"),i("2532"),i("9ab4")),l=i("60a3"),u=i("1bbb"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes})},p=[];(function(t){t["ELEMENT_AIR"]="air",t["ELEMENT_EARTH"]="earth",t["ELEMENT_FIRE"]="fire",t["ELEMENT_LIGHTNING"]="lightning",t["ELEMENT_WATER"]="water",t["SWEETS_BARBARIS"]="sweets-barbaris",t["SWEETS_COOKIE"]="sweets-cookie",t["SWEETS_LOLLIPOP"]="sweets-lollipop",t["SWEETS_PILLOW"]="sweets-pillow",t["SWEETS_SOUFFLE"]="sweets-souffle"})(n||(n={}));var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["b"])(e,t),Object.defineProperty(e.prototype,"classes",{get:function(){return{"b-game-tile":!0,"b-game-tile--small":this.small,"b-game-tile--air":this.type===n.ELEMENT_AIR,"b-game-tile--earth":this.type===n.ELEMENT_EARTH,"b-game-tile--fire":this.type===n.ELEMENT_FIRE,"b-game-tile--lightning":this.type===n.ELEMENT_LIGHTNING,"b-game-tile--water":this.type===n.ELEMENT_WATER,"b-game-tile--sweets-barbaris":this.type===n.SWEETS_BARBARIS,"b-game-tile--sweets-cookie":this.type===n.SWEETS_COOKIE,"b-game-tile--sweets-lollipop":this.type===n.SWEETS_LOLLIPOP,"b-game-tile--sweets-pillow":this.type===n.SWEETS_PILLOW,"b-game-tile--sweets-souffle":this.type===n.SWEETS_SOUFFLE}},enumerable:!0,configurable:!0}),Object(a["a"])([Object(l["b"])({required:!0})],e.prototype,"type",void 0),Object(a["a"])([Object(l["b"])({default:!1})],e.prototype,"small",void 0),e=Object(a["a"])([Object(l["a"])({name:"BGameTile"})],e),e}(l["c"]),h=f,d=h,y=(i("693a"),i("2877")),g=Object(y["a"])(d,c,p,!1,null,null,null),b=g.exports,v=function(){function t(t,e){this.tiles=[],this.width=t,this.height=e;for(var i=0;i<e;i++){for(var n=[],r=0;r<t;r++)n.push({type:null,selected:!1});this.tiles.push(n)}}return t.prototype.getTileList=function(){return this.tiles},t.prototype.getTileByIndex=function(t,e){return this.tiles[t]&&this.tiles[t][e]||null},t.prototype.setTile=function(t,e,i){this.tiles[e][i]=t},t.prototype.indexOf=function(t){for(var e=0;e<this.tiles.length;e++){var i=this.tiles[e].indexOf(t);if(-1!==i)return[e,i]}return null},t.prototype.find=function(t){for(var e=0;e<this.tiles.length;e++)for(var i=0;i<this.tiles[e].length;i++)if(t(this.tiles[e][i],e,i))return this.tiles[e][i];return null},t.prototype.forEach=function(t){this.tiles.forEach((function(e,i){return e.forEach((function(e,n){t(e,i,n)}))}))},t.prototype.shake=function(){for(var t=this.height-1;t>=0;t--)for(var e=0;e<this.width;e++)if(null===this.tiles[t][e].type)for(var i=t;i>=0;i--)if(null!==this.tiles[i][e].type){var n=this.tiles[i][e];this.tiles[i][e]=this.tiles[t][e],this.tiles[t][e]=n;break}},t.prototype.isNeighbors=function(e,i){var n=this.indexOf(e),r=this.indexOf(i);return n&&r&&(t.isNeighborsByRow(n,r)||t.isNeighborsByColumn(n,r))},t.isNeighborsByRow=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1];return i===r&&1===Math.abs(n-o)},t.isNeighborsByColumn=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1];return n===o&&1===Math.abs(i-r)},t}(),E=v,m=9,T=7,O=[n.SWEETS_BARBARIS,n.SWEETS_COOKIE,n.SWEETS_LOLLIPOP,n.SWEETS_PILLOW,n.SWEETS_SOUFFLE],_=5,w=3,S=10,j=20,x=function(t){return t[Math.floor(Math.random()*t.length)]},I=function(t,e){return Array(e-t+1).fill(1).map((function(e,i){return t+i}))},L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=new E(m,T),e.objectives=[],e.counters=[],e.turns=j,e.evaluating=!1,e.updating=!1,e}return Object(a["b"])(e,t),Object.defineProperty(e.prototype,"locked",{get:function(){return this.evaluating||this.updating},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectivesComputed",{get:function(){var t=this,e=function(e){var i=t.counters.find((function(t){return t.type===e.type})),n=i?i.count:0;return{type:e.type,count:e.count-n}};return this.objectives.map(e)},enumerable:!0,configurable:!0}),e.prototype.created=function(){this.init()},e.prototype.init=function(){var t=this;this.objectives.push(this.generateObjective()),this.objectives.push(this.generateObjective()),this.grid.forEach((function(e,i,n){e.type=t.generateType(i,n)})),O.forEach((function(e){t.counters.push({type:e,count:0})}))},e.prototype.generateObjective=function(){var t=this.objectives.map((function(t){return t.type})),e=x(I(w,S));return{type:x(O.filter((function(e){return!t.includes(e)}))),count:e*_}},e.prototype.generateType=function(t,e){var i=[this.getTypeOfTwoPrevXIfRepeated(t,e),this.getTypeOfTwoPrevYIfRepeated(t,e)];return x(O.filter((function(t){return!i.includes(t)})))},e.prototype.getTypeOfTwoPrevXIfRepeated=function(t,e){var i=this.grid.getTileByIndex(t,e-1),n=this.grid.getTileByIndex(t,e-2);return i&&n&&i.type===n.type?i.type:null},e.prototype.getTypeOfTwoPrevYIfRepeated=function(t,e){var i=this.grid.getTileByIndex(t-1,e),n=this.grid.getTileByIndex(t-2,e);return i&&n&&i.type===n.type?i.type:null},e.prototype.onTileClick=function(t){if(!this.locked){var e=this.grid.find((function(t){return t.selected}));null!==e?(e!==t&&(this.grid.isNeighbors(e,t)?this.makeMove(e,t):t.selected=!0),e.selected=!1):t.selected=!0}},e.prototype.makeMove=function(t,e){var i=this;0!==this.turns?(this.evaluating=!0,this.swapTiles(t,e),this.getFilled().length?(this.updateGrid(),this.turns--):this.delay((function(){i.swapTiles(t,e),i.evaluating=!1,i.$forceUpdate()}))):alert("Game ended")},e.prototype.swapTiles=function(t,e){var i=this.grid.indexOf(t),n=this.grid.indexOf(e);if(i&&n){var r=i[0],o=i[1],s=n[0],a=n[1];this.grid.setTile(t,s,a),this.grid.setTile(e,r,o)}},e.prototype.updateGrid=function(){var t=this;this.updating=!0,this.delay((function(){t.clearFilled()})).then((function(){return t.delay((function(){t.grid.shake()}))})).then((function(){return t.delay((function(){t.refillGrid()}))})).then((function(){return t.delay((function(){t.clearFilled()}))})).then((function(){return t.delay((function(){t.grid.find((function(t){return null===t.type}))?t.updateGrid():(t.updating=!1,t.evaluating=!1)}))}))},e.prototype.refillGrid=function(){this.grid.forEach((function(t){null===t.type&&(t.type=x(O))}))},e.prototype.delay=function(t){var e=this,i=200;return new Promise((function(n){setTimeout((function(){e.$nextTick(t),n()}),i)}))},e.prototype.clearFilled=function(){var t=this;this.getFilled().forEach((function(e){var i=t.counters.find((function(t){return t.type===e.type}));i&&i.count++,e.type=null}))},e.prototype.getFilled=function(){var t=this,e=[],i=function(t){e.includes(t)||e.push(t)};return this.grid.forEach((function(e,n,r){var o=t.grid.getTileByIndex(n+1,r),s=t.grid.getTileByIndex(n+2,r),a=t.grid.getTileByIndex(n,r+1),l=t.grid.getTileByIndex(n,r+2);o&&s&&e.type===o.type&&o.type===s.type&&(i(e),i(o),i(s)),a&&l&&e.type===a.type&&a.type===l.type&&(i(e),i(a),i(l))})),e},e=Object(a["a"])([Object(l["a"])({name:"MainView",components:{BContainer:u["a"],BGameTile:b}})],e),e}(l["c"]),k=L,C=k,P=(i("69b4"),Object(y["a"])(C,o,s,!1,null,null,null)),B=P.exports;r["a"].config.productionTip=!1,new r["a"]({render:t=>t(B)}).$mount("#app")},"693a":function(t,e,i){"use strict";var n=i("4a84"),r=i.n(n);r.a},"69b4":function(t,e,i){"use strict";var n=i("4eb7"),r=i.n(n);r.a}});